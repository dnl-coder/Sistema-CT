<style>
    td{min-width: 100px;}
</style>

<form method="post" novalidate>
<div class="table-responsive">

 <table class="table my-3">
  <thead class="black white-text" align="center">
    <tr>
      <th colspan="5">GASTOS DE LA EMPRESA</th>
      <th id="fechaRegistro" class="text-right"></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td class="formulario">Proveedor :</td>
      <td><select name="proveedor" id="proveedor" class="w-responsive"></select></td>
      <td class="formulario">Fecha Emision :</td>
      <td><input type="datetime-local" class="w-responsive" id="fEmision" required></td>
      <td class="formulario">Fecha Vencimiento :</td>
      <td><input type="datetime-local" class="w-responsive" id="fVencimiento" required></td>
    </tr>
    <tr>
      <td class="formulario">Fecha Pago :</td>
      <td><input type="text" class="w-responsive" id="contactoEmpresa" required></td>
      <td class="formulario">Importe :</td>
      <td><input  type="number" min="1" oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);" maxlength="11"  class="w-responsive" required id="telefonoContacto"></td>
      <td class="formulario">N Comprobante :</td>
      <td><input  type="number" min="1" oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);" maxlength="11" class="w-responsive" required id="telefonoContacto"></td>
    </tr>
    <tr>
      <td class="formulario">Moneda :</td>
      <td>
         <select  class="w-responsive" name="moneda" id="moneda">
          <option class="w-responsive" value="Soles">Soles</option>
          <option class="w-responsive" value="Dolares">Dolares</option>
         </select>  
      </td>
      <td class="formulario">Tipo :</td>
      <td><select name="tipo" id="tipo" class="w-responsive"></select></td>
      <td class="formulario">Categorias :</td>
      <td><select name="categoria" id="categoria" class="w-responsive"></select></td>
    </tr>
    <tr>
      <td class="formulario">Empresa :</td>
      <td><select name="empresa" id="empresa" class="w-responsive"></select></td>
      <td class="formulario">Archivo :</td>
      <td><input  type="file" class="w-responsive" required id="telefonoContacto"></td>
      <td class="formulario">Orden :</td>
      <td><input  type="number" min="1" oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);" maxlength="11" class="w-responsive" required id="telefonoContacto"></td>
    </tr>
    <tr>
      <td class="formulario">Observaciones :</td>
      <td><input  type="text" required id="telefonoContacto"></td>
    </tr>
  </tbody>
</table>
 <hr>
 <div class="text-center">
    <button type="button" onclick="validar()" class="btn boton">Guardar</button>
    <button type="reset" class="btn boton" id="reset">Limpiar</button>
 </div>
 <div id="resultado" class="text-center h3-responsive principal-text my-3 font-weight-bold"></div>
 <!-- MENSAJE -->
<div class="toast" data-autohide="true" data-delay="9000"><div class="toast-body"></div></div>
</div>
</form>


<script type="text/javascript"> 
    
/*=============================================
    CARGAR EMPRESAS
=============================================*/
    
mostrarEmpresa(); 
mostrarProveedores();  
    
function mostrarEmpresa(){
    var boxEmpresa="";
    
    $.ajax({
        url: '../CT-BackEnd/Controlador/ModMaestros/Controlador_Clientes/Controlador_MostrarEmpresa.php',
        type: 'GET',
        dataType: 'json',
        error: function(error){
            if(error.status == 401){
                console.log("Archivos no encontrados");
            }
            else{
                console.log("Error no identificado");
            }
            boxEmpresa+="<option value='' selected>Elegir Empresa</option>";
            $("#empresa").html(boxEmpresa);
        },
        success: function(datos){
            
            if(datos.response=="0"){
                boxEmpresa+="<option value='' selected>Elegir Empresa</option>";
                $("#empresa").html(boxEmpresa);
            }else{
                for(var i=0; i<datos.length;i++){
                    if(i==0){
                        boxEmpresa+="<option value='' selected>Elegir Empresa</option>";
                    }
                    boxEmpresa+="<option value='"+datos[i].EMPCODIGO+"'>"+datos[i].EMPDESCRIPCION+"</option>";
                }
                $("#empresa").html(boxEmpresa);
            }
        }
    });  
}   
    
/*=============================================
    CARGAR PROVEEDORES
=============================================*/  
    
function mostrarProveedores(){
    var boxProveedor="";
    
    $.ajax({
        url: '../CT-BackEnd/Controlador/ModMaestros/Controlador_Proveedor/Controlador_MostrarTodosProveedores.php',
        type: 'GET',
        dataType: 'json',
        error: function(error){
            if(error.status == 401){
                console.log("Archivos no encontrados");
            }
            else{
                console.log("Error no identificado");
            }
            boxProveedor+="<option value='' selected>Elegir Proveedor</option>";
            $("#proveedor").html(boxProveedor);
        },
        success: function(datos){
            
            if(datos.response=="0"){
                boxProveedor+="<option value='' selected>Elegir Proveedor</option>";
                $("#proveedor").html(boxProveedor);
            }else{
                for(var i=0; i<datos.length;i++){
                    if(i==0){
                        boxProveedor+="<option value='' selected>Elegir Proveedor</option>";
                    }
                    boxProveedor+="<option value='"+datos[i].PROVEEDCODIGO+"'>"+datos[i].PROVEEDRAZON_SOCIAL+"</option>";
                }
                $("#proveedor").html(boxProveedor);
            }
        }
    });  
}     
    
    
</script> 




